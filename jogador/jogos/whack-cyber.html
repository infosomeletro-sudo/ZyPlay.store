<!DOCTYPE html><html lang="pt-br"><head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ZYPLAY â€¢ Whack Cyber</title>
<style>
  :root{--bg:#050510;--pink:#ff007a;--blue:#00d4ff;--gold:#ffcc00;}
  body{margin:0;background:radial-gradient(900px 500px at 30% -10%, rgba(0,212,255,.18), transparent 60%),
                 radial-gradient(900px 600px at 80% 0%, rgba(255,0,122,.16), transparent 60%), #050510;
       color:#fff;font-family:system-ui,Arial;text-align:center}
  header{display:flex;gap:10px;justify-content:center;align-items:center;padding:14px;background:rgba(18,18,43,.85);
         border-bottom:3px solid var(--pink);backdrop-filter:blur(10px)}
  a.btn,button.btn{padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.15);background:rgba(0,0,0,.25);
                   color:#fff;cursor:pointer;text-decoration:none;font-weight:800}
  a.btn:hover,button.btn:hover{border-color:rgba(0,212,255,.6)}
  .hud{max-width:720px;margin:10px auto;display:flex;gap:10px;justify-content:space-between;flex-wrap:wrap;padding:0 12px}
  .pill{flex:1;min-width:170px;padding:10px 12px;border:1px solid rgba(255,255,255,.12);border-radius:999px;background:rgba(0,0,0,.22);font-weight:900}
  #grid{width:min(540px,92vw);margin:14px auto;display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
  .hole{aspect-ratio:1/1;border-radius:18px;background:rgba(18,18,43,.75);border:2px solid rgba(0,212,255,.25);
        box-shadow:0 0 24px rgba(0,212,255,.08);position:relative;overflow:hidden;cursor:pointer}
  .target{position:absolute;inset:16% 16% auto 16%;height:0;padding-bottom:68%;border-radius:18px;
          background:linear-gradient(135deg, rgba(255,0,122,.95), rgba(0,212,255,.95));
          box-shadow:0 0 26px rgba(255,0,122,.18), 0 0 30px rgba(0,212,255,.12);
          transform:translateY(120%);transition:transform .12s}
  .target.up{transform:translateY(0)}
  .spark{position:absolute;width:6px;height:6px;border-radius:50%}
  .tip{opacity:.85;font-size:13px}
</style></head><body>
<header>
  <a class="btn" href="/">â¬… Voltar ao menu</a>
  <button class="btn" id="soundBtn">ðŸ”Š Som: ON</button>
  <button class="btn" id="startBtn">â–¶ ComeÃ§ar</button>
</header>

<div class="hud">
  <div class="pill">Pontos: <span id="score">0</span></div>
  <div class="pill">Combo: <span id="combo">0</span></div>
  <div class="pill">Tempo: <span id="time">30</span>s</div>
</div>
<div class="tip">Clique nos alvos quando aparecerem. Quanto maior o combo, mais pontos.</div>

<div id="grid"></div>

<script>
/* ===== SOM ===== */
let audioCtx=null, soundOn=true;
const soundBtn=document.getElementById('soundBtn');
function initAudio(){ if(!audioCtx) audioCtx=new (window.AudioContext||window.webkitAudioContext)(); }
function tone(f=440,d=0.06,type="square",vol=0.05){
  if(!soundOn) return; initAudio();
  const o=audioCtx.createOscillator(), g=audioCtx.createGain();
  o.type=type; o.frequency.value=f; g.gain.value=vol;
  o.connect(g); g.connect(audioCtx.destination);
  o.start(); o.stop(audioCtx.currentTime+d);
}
soundBtn.onclick=()=>{ soundOn=!soundOn; tone(700,0.05); soundBtn.textContent=soundOn?"ðŸ”Š Som: ON":"ðŸ”‡ Som: OFF"; };
document.addEventListener("click", initAudio, {once:true});

/* ===== JOGO ===== */
const grid=document.getElementById('grid');
let holes=[], running=false, score=0, combo=0, time=30, tick=null, spawner=null;
function setHud(){
  document.getElementById('score').textContent=score;
  document.getElementById('combo').textContent=combo;
  document.getElementById('time').textContent=time;
}
function sparks(el){
  for(let i=0;i<10;i++){
    const s=document.createElement('div');
    s.className="spark";
    s.style.left=(40+Math.random()*20)+"%";
    s.style.top=(40+Math.random()*20)+"%";
    s.style.background = Math.random()<.5 ? "rgba(255,204,0,.95)" : "rgba(255,255,255,.95)";
    const vx=(Math.random()*8-4), vy=(Math.random()*8-4);
    el.appendChild(s);
    let life=24;
    const anim=setInterval(()=>{
      life--;
      s.style.transform=`translate(${vx*(24-life)}px,${vy*(24-life)}px)`;
      s.style.opacity=(life/24);
      if(life<=0){ clearInterval(anim); s.remove(); }
    },16);
  }
}

function build(){
  grid.innerHTML=""; holes=[];
  for(let i=0;i<9;i++){
    const h=document.createElement('div'); h.className="hole";
    const t=document.createElement('div'); t.className="target";
    h.appendChild(t);
    h.onclick=()=>{
      if(!running) return;
      if(t.classList.contains('up')){
        t.classList.remove('up');
        combo++;
        const gain = 10 + Math.min(40, combo*2);
        score += gain;
        tone(980,0.04); setTimeout(()=>tone(1280,0.04),55);
        sparks(h);
      }else{
        combo=0; tone(180,0.08,"sawtooth",0.06);
      }
      setHud();
    };
    holes.push({h,t});
    grid.appendChild(h);
  }
}
build();

function pop(){
  const idx=Math.floor(Math.random()*holes.length);
  const {t}=holes[idx];
  if(t.classList.contains('up')) return;
  t.classList.add('up');
  tone(520,0.02,"square",0.03);
  const stay = 420 + Math.random()*520;
  setTimeout(()=>t.classList.remove('up'), stay);
}

function start(){
  score=0; combo=0; time=30; setHud();
  running=true;
  clearInterval(tick); clearInterval(spawner);
  tick=setInterval(()=>{
    time--; setHud();
    if(time<=0){
      running=false;
      clearInterval(tick); clearInterval(spawner);
      tone(180,0.12,"sawtooth",0.09);
      setTimeout(()=>tone(120,0.18,"sawtooth",0.09),80);
      alert("Fim! Pontos: "+score);
    }
  },1000);

  spawner=setInterval(pop, 420);
}
document.getElementById('startBtn').onclick=start;
</script>
</body></html>
