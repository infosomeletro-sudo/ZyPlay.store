<!DOCTYPE html><html lang="pt-br"><head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ZYPLAY â€¢ Nave</title>
<style>
  body{margin:0;background:#050510;color:#fff;font-family:Arial;text-align:center}
  header{display:flex;gap:10px;justify-content:center;align-items:center;padding:14px;background:#12122b;border-bottom:3px solid #ff007a}
  a.btn,button.btn{padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.15);background:rgba(0,0,0,.25);color:#fff;cursor:pointer;text-decoration:none;font-weight:700}
  canvas{display:block;margin:14px auto;background:#0b0b18;border:2px solid rgba(0,212,255,.5);border-radius:12px}
</style></head><body>
<header>
  <a class="btn" href="/">â¬… Voltar ao menu</a>
  <button class="btn" id="soundBtn">ðŸ”Š Som: ON</button>
</header>
<div>Setas movem â€¢ EspaÃ§o atira â€¢ Pontos: <b id="s">0</b></div>
<canvas id="c" width="420" height="520"></canvas>

<script>
let audioCtx=null, soundOn=true;
const soundBtn=document.getElementById('soundBtn');
function initAudio(){ if(!audioCtx) audioCtx=new (window.AudioContext||window.webkitAudioContext)(); }
function beep(f=440,d=0.06,t="square",v=0.05){ if(!soundOn) return; initAudio();
  const o=audioCtx.createOscillator(), g=audioCtx.createGain(); o.type=t; o.frequency.value=f; g.gain.value=v;
  o.connect(g); g.connect(audioCtx.destination); o.start(); o.stop(audioCtx.currentTime+d);
}
soundBtn.onclick=()=>{ soundOn=!soundOn; beep(700,0.05); soundBtn.textContent=soundOn?"ðŸ”Š Som: ON":"ðŸ”‡ Som: OFF"; };
document.addEventListener("click", initAudio, {once:true});
document.addEventListener("keydown", initAudio, {once:true});

const canvas=document.getElementById('c'), ctx=canvas.getContext('2d');
let player={x:190,y:470,w:40,h:14};
let bullets=[], enemies=[], score=0;
const s=document.getElementById('s');
let keys={};

function spawn(){
  enemies.push({x:Math.random()*(canvas.width-26), y:-20, w:22, h:22, vy:1.6+Math.random()*1.2});
}
setInterval(spawn, 900);

document.addEventListener('keydown',(e)=>{ keys[e.code]=true;
  if(e.code==="Space"){
    bullets.push({x:player.x+player.w/2-2, y:player.y-10});
    beep(980,0.03);
  }
});
document.addEventListener('keyup',(e)=>{ keys[e.code]=false; });

function step(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // move player
  if(keys["ArrowLeft"]) player.x-=4;
  if(keys["ArrowRight"]) player.x+=4;
  player.x=Math.max(0, Math.min(canvas.width-player.w, player.x));

  // bullets
  for(const b of bullets){ b.y-=6; }
  bullets=bullets.filter(b=>b.y>-20);

  // enemies
  for(const en of enemies){ en.y+=en.vy; }
  enemies=enemies.filter(en=>en.y<canvas.height+30);

  // collisions
  for(const en of enemies){
    // hit player
    const hitP = player.x<en.x+en.w && player.x+player.w>en.x && player.y<en.y+en.h && player.y+player.h>en.y;
    if(hitP){
      beep(180,0.12,"sawtooth",0.08); setTimeout(()=>beep(120,0.18,"sawtooth",0.08),80);
      alert("Game Over! Pontos: "+score);
      location.reload();
    }
    for(const b of bullets){
      const hitB = b.x<en.x+en.w && b.x+4>en.x && b.y<en.y+en.h && b.y+10>en.y;
      if(hitB){
        en.y=9999; b.y=-9999;
        score++; s.textContent=score;
        beep(1180,0.04); setTimeout(()=>beep(980,0.03),50);
      }
    }
  }

  // draw
  ctx.fillStyle="#00d4ff"; ctx.fillRect(player.x,player.y,player.w,player.h);
  ctx.fillStyle="#ffcc00";
  for(const b of bullets){ ctx.fillRect(b.x,b.y,4,10); }
  ctx.fillStyle="#ff007a";
  for(const en of enemies){ ctx.fillRect(en.x,en.y,en.w,en.h); }

  requestAnimationFrame(step);
}
step();
</script>
</body></html>
