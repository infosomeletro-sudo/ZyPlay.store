<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virginia Miner - Desafio dos Pés</title>
    <style>
        body {
            background: #0a0a0a; color: white; text-align: center;
            font-family: 'Arial Black', sans-serif; margin: 0;
            display: flex; flex-direction: column; justify-content: center;
            align-items: center; height: 100vh; overflow: hidden; user-select: none;
        }
        .score-container { font-size: 3.5rem; color: #ffd700; margin-bottom: 20px; }
        
        #game-area { position: relative; cursor: crosshair; }

        #character {
            width: 300px; border-radius: 20px;
            transition: transform 0.05s;
            border: 3px solid transparent;
        }

        .win-hit { animation: bounce 0.2s ease; border-color: #ffd700 !important; }
        .lose-hit { animation: shake 0.2s ease; border-color: red !important; }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(0.95) translateY(5px); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .popup {
            position: absolute; font-weight: bold; font-size: 2rem;
            pointer-events: none; animation: floatUp 0.6s forwards;
        }
        @keyframes floatUp {
            to { opacity: 0; transform: translateY(-100px); }
        }
    </style>
</head>
<body>

    <div class="score-container">Zycoins: <span id="balance">0.00</span></div>
    
    <div id="game-area">
        <img src="virginia.jpeg" id="character" onclick="processClick(event)">
    </div>

    <p id="hint" style="color: #ffd700; margin-top: 20px; font-size: 1.2rem;">
        FOQUE NOS PÉS E JOELHOS!
    </p>

    <script>
        let balance = 0;
        const balanceDisplay = document.getElementById('balance');
        const charImg = document.getElementById('character');

        function processClick(event) {
            const rect = event.target.getBoundingClientRect();
            const y = event.clientY - rect.top; // Posição vertical do clique
            const x = event.clientX - rect.left; // Posição horizontal

            // CALIBRAÇÃO:
            // Em uma imagem de 300px de altura:
            // Os joelhos e pés geralmente ficam do meio (150px) para baixo (300px).
            // Coloquei uma margem lateral para não ganhar clicando no "ar" ao lado dos pés.
            
            const acertouBaixo = (y > 160 && y < 290); // Só ganha se clicar na metade de baixo
            const centralizado = (x > 80 && x < 220);  // Garante que clicou no corpo, não no lado

            if (acertouBaixo && centralizado) {
                balance += 1.50;
                showPopup(event.clientX, event.clientY, "+1.50", "#ffd700");
                triggerEffect('win-hit');
            } else {
                balance -= 2.00;
                if(balance < 0) balance = 0;
                showPopup(event.clientX, event.clientY, "-2.00", "#ff0000");
                triggerEffect('lose-hit');
            }

            balanceDisplay.innerText = balance.toFixed(2);
        }

        function triggerEffect(className) {
            charImg.classList.remove('win-hit', 'lose-hit');
            void charImg.offsetWidth; 
            charImg.classList.add(className);
        }

        function showPopup(x, y, text, color) {
            const p = document.createElement('div');
            p.className = 'popup';
            p.innerText = text;
            p.style.color = color;
            p.style.left = (x - 30) + 'px';
            p.style.top = (y - 30) + 'px';
            document.body.appendChild(p);
            setTimeout(() => p.remove(), 600);
        }
    </script>
</body>
</html>
